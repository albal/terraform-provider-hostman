---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hostman_kubernetes Resource - hostman"
subcategory: ""
description: |-
  Manages a Kubernetes cluster on Hostman platform.
---

# hostman_kubernetes (Resource)

This resource manages a Kubernetes cluster on the Hostman platform. It supports creating clusters with custom master node configurations and multiple worker groups with autoscaling capabilities.

## Example Usage

### Basic Kubernetes Cluster

```terraform
resource "hostman_kubernetes" "example" {
  name              = "my-k8s-cluster"
  k8s_version       = "v1.28.0+k0s.0"
  network_driver    = "kuberouter"
  preset_id         = 403
  worker_groups = [
    {
      name         = "workers"
      preset_id    = 1745
      node_count   = 3
    }
  ]
}
```

### Advanced Kubernetes Cluster with Custom Configuration

```terraform
resource "hostman_kubernetes" "advanced" {
  name               = "advanced-cluster"
  description        = "Production Kubernetes cluster"
  k8s_version        = "v1.28.0+k0s.0"
  network_driver     = "kuberouter"
  master_nodes_count = 3
  is_ingress         = true
  is_k8s_dashboard   = true
  availability_zone  = "ams-1"

  configuration {
    configurator_id = 57
    disk           = 1024
    cpu            = 8
    ram            = 8192
  }

  worker_groups = [
    {
      name       = "high-memory-workers"
      node_count = 2
      configuration {
        configurator_id = 57
        disk           = 512
        cpu            = 4
        ram            = 16384
      }
      labels = [
        {
          key   = "workload-type"
          value = "memory-intensive"
        }
      ]
    },
    {
      name           = "autoscale-workers"
      preset_id      = 1745
      node_count     = 3
      is_autoscaling = true
      min_size       = 2
      max_size       = 10
      labels = [
        {
          key   = "autoscaling"
          value = "enabled"
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the Kubernetes cluster
- `k8s_version` (String) Kubernetes version (e.g., "v1.28.0+k0s.0")
- `network_driver` (String) Network driver for the cluster (e.g., kuberouter, flannel, calico, etc.)

### Optional

- `availability_zone` (String) Availability zone for the cluster. Defaults to "ams-1"
- `configuration` (Block List, Max: 1) Master node configuration parameters. Cannot be provided together with preset_id. (see [below for nested schema](#nestedblock--configuration))
- `description` (String) Description of the Kubernetes cluster
- `is_ingress` (Boolean) Enable ingress controller
- `is_k8s_dashboard` (Boolean) Enable Kubernetes dashboard
- `master_nodes_count` (Number) Number of master nodes in the cluster. Defaults to 1
- `preset_id` (Number) Master node tariff ID (e.g., 403). Cannot be provided together with configuration
- `worker_groups` (Block List) Worker groups in the cluster (see [below for nested schema](#nestedblock--worker_groups))

### Read-Only

- `cluster_id` (String) The cluster ID
- `endpoint` (String) The cluster API endpoint
- `id` (String) The ID of this resource.
- `kubeconfig` (String, Sensitive) The kubeconfig for accessing the cluster
- `status` (String) Current status of the cluster

<a id="nestedblock--configuration"></a>
### Nested Schema for `configuration`

#### Required

- `configurator_id` (Number) Configurator ID
- `cpu` (Number) Number of CPU cores
- `disk` (Number) Disk size in GB
- `ram` (Number) RAM size in MB

<a id="nestedblock--worker_groups"></a>
### Nested Schema for `worker_groups`

#### Required

- `name` (String) Name of the worker group
- `node_count` (Number) Number of nodes in the group (must be between 1 and 100)

#### Optional

- `configuration` (Block List, Max: 1) Worker node configuration parameters. Cannot be provided together with preset_id. (see [below for nested schema](#nestedblock--worker_groups--configuration))
- `is_autoscaling` (Boolean) Autoscaling. Automatic increase and decrease in the number of nodes in the group depending on the current load
- `labels` (Block List) Labels for the node group (see [below for nested schema](#nestedblock--worker_groups--labels))
- `max_size` (Number) Maximum number of nodes. To be used with is_autoscaling and min_size parameters (must be >= 2)
- `min_size` (Number) Minimum number of nodes. To be used with is_autoscaling and max_size parameters (must be >= 2)
- `preset_id` (Number) Worker node tariff ID. Cannot be provided together with configuration. The location of worker nodes must match the location of the cluster.

<a id="nestedblock--worker_groups--configuration"></a>
### Nested Schema for `worker_groups.configuration`

#### Required

- `configurator_id` (Number) Configurator ID
- `cpu` (Number) Number of CPU cores
- `disk` (Number) Disk size in GB
- `ram` (Number) RAM size in MB

<a id="nestedblock--worker_groups--labels"></a>
### Nested Schema for `worker_groups.labels`

#### Required

- `key` (String) Label key
- `value` (String) Label value

## Notes

- Either `preset_id` or `configuration` must be provided for master nodes, but not both
- For worker groups, either `preset_id` or `configuration` must be provided for each group, but not both
- When using autoscaling (`is_autoscaling = true`), both `min_size` and `max_size` must be specified
- The location of worker nodes must match the location of the cluster
- Cluster creation may take up to 30 minutes
- Cluster deletion may take up to 15 minutes